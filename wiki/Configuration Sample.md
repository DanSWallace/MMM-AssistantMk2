 
### Configuration Sample (V3.3.x)

## Simple
```js
{
  module: "MMM-AssistantMk2",
  position: "fullscreen_above",
  config: {
    ui: "Fullscreen",
    assistantConfig: {
      latitude: 51.508530,
      longitude: -0.076132,
    },
    micConfig: { // put there configuration generated by auto-installer
      recorder: "arecord",
      device: "plughw:1",
    },
    recipes: [],
    profiles: {
      "default": {
        profileFile: "default.json",
        lang: "en-US"
      }
    },
    useA2D: false,
  }
},
```

## Full & Detailed (See the `Configuration Structure`)
This is the default configuration defined if you don't define any value
```js
{
  module: "MMM-AssistantMk2",
  position: "fullscreen_above",
  config: {
    debug: false,
    ui: "Fullscreen", // Classic2, Classic or Simple
    // if you want Google Nest ui style
    // set Fullscreen ui AND fullscreen_above position
    assistantConfig: {
      projectId: "", // Required to use gaction.
      modelId: "", // (OPTIONAL for gaction)
      instanceId: "", // (OPTIONAL for gaction)
      latitude: 51.508530,
      longitude: -0.076132,
    },
    responseConfig: {
      useHTML5: true, // sound render by HTML5
      useScreenOutput: true,
      useAudioOutput: true,
      useChime: true,
      timer: 5000,
      myMagicWord: false,
      //Your prefer sound play program.
      //By example, if you are running this on OSX, `afplay` could be available.
      //by default mpg321 play program is enabled
      //if audio output cutting try with mpg123 or cvlc program
      playProgram: "mpg321",
      chime: {
        beep: "beep.mp3",
        error: "error.mp3",
        continue: "continue.mp3",
        open: "Google_beep_open.mp3",
        close: "Google_beep_close.mp3",
      },
      // false - animated icons, 'standby' - static icons only for standby state, true - all static icons
      useStaticIcons: false
    },
    micConfig: { // put there configuration generated by auto-installer
      recorder: "arecord",
      device: "plughw:1",
    },
    customActionConfig: {
      autoMakeAction: false,
      autoUpdateAction: false, // in RPI, gaction CLI might have some trouble.(current version should be 2.2.4, but for linux-arm, Google haven't updated) so leave this as false in RPI. I don't know it is solved or not.
      actionLocale: "en-US", // At this moment, multi-languages are not supported, sorry. Someday I'll work.
    },
    recipes: [ "with-MMM-TelegramBot.js" ],
    profiles: {
      "default": {
        profileFile: "default.json",
        lang: "en-US"
      }
    },
    useA2D: false,
    A2DStopCommand: "stop",
    useSnowboy: false,
    snowboy: {
      audioGain: 2.0,
      Frontend: true,
      Model: "jarvis",
      Sensitivity: null
    },
  },
},
```
**By default, MMM-AssistantMk2 have no detector configured, Try to configure it with one of them:**

## Use with integred MMM-AssistantMk2 snowboy detector
 * Integred snowboy needs his library installed by `npm install`
 * turn `useSnowboy: true`
 * the `Model` by default is `jarvis`
 * You can change by your prefered keyword see [Configuration-Structure](https://github.com/bugsounet/MMM-AssistantMk2/wiki/Configuration-Structure#field-snowboy-)

## Use with [MMM-Snowboy](https://github.com/bugsounet/MMM-Snowboy)

 * `MMM-Snowboy` use `Assistant2display` preconfigured code<br>
turn `useA2D: true`
 * `MMM-Snowboy` is preconfigured for AssistantMk2 use
```js
{
  module: "MMM-Snowboy",
  config: {
    Frontend: false,
    Model: "smart_mirror"
  }
},
```

This makes heyword `smart mirror` to MMM-AssistantMk2 activator.<br>
Of course there is a lot of keyword, see [MMM-Snowboy](https://github.com/bugsounet/MMM-Snowboy) for more information

## Use with [MMM-Hotword](https://github.com/bugsounet/MMM-Hotword)

 * MMM-AssistantMk2 configuration

Add the `with-MMM-Hotword.js` recipe, in `recipes []` configuration block

```js
{
  module: "MMM-AssistantMk2",
  position: "fullscreen_above",
  config: {
  ...
    recipes: [ "with-MMM-Hotword.js" ],
  ...
  }
},
```
naturally, if you have another recipe it should be<br>
`recipes: [ "with-MMM-Hotword.js", "with-MMM-TelegramBot.js" ],`

* MMM-Hotword Configuration

```js
{
  module: "MMM-Hotword",
  position: "bottom_left",
   config: {
    useDisplay: false,
    chimeOnFinish: null,
    recipes: ["with-AMk2v3_smart-mirror.js"],
    mic: {
      recordProgram: "arecord",
      device: "plughw:1",
    },
  },
},
```

This makes hotword `smart mirror` to MMM-AssistantMk2 activator.

If you prefer `Jarvis` for activator, replace
```js
recipes: ["with-AMk2v3_smart-mirror.js"]
```
by
```js
recipes: ["with-AMk2v3_Jarvis.js"]
```

You can try to determinate your `mic{ }` configuration block with hotword [npm install](Installation#auto-install) script<br>
see [MMM-Hotword](https://github.com/bugsounet/MMM-Hotword/wiki) for more information

**Notes:**

In v3 of AMk2, hotword not works like V2: you have just to say `smart mirror, what time is it ?`

In a short delay time (1 second) AMk2 will respond.

You don't have to wait to a confirm beep !
Hotword send directly your request `what time is it ?`

If your environement is so noisy, Hotword can take a long time to activate AMk2
and if your request is null (if you just say `smart mirror`)

AMk2 v3 can reply if your environnement is noisy `Sorry I don't understand`

If you don't like this feature or noisy environement, we prepared recipes for this
* `with-AMk2v3-noisy_smart-mirror.js` for smart mirror keyword

* `with-AMk2v3-noisy_Jarvis.js` for Jarvis keyword

With noisy recipes you have now activator like AMk2 v2

**Attention:** Don't Merge AMk2 v3 and AMk2 v2 config files, MMM-Hotword will not work correctly !

If MMM-Hotword is too complex for you, let's try [MMM-Snowboy](https://github.com/bugsounet/MMM-Snowboy) or integred snowboy


**You can use ONLY one detector ! So make you choice :)**
